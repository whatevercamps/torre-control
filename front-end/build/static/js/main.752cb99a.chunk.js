(this.webpackJsonpinterfaz=this.webpackJsonpinterfaz||[]).push([[0],{428:function(e,t,n){e.exports=n(556)},434:function(e,t,n){},435:function(e,t,n){},555:function(e,t,n){},556:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(42),c=n.n(o),s=(n(433),n(434),n(435),n(103)),i=n(16),l=n(8),u=n(611),d=n(613),f=n(622),m=n(614),p=n(291),g=n.n(p),h=Object(u.a)((function(e){return{root:{padding:"4px 1em 4px 1.5em",display:"flex",alignItems:"center",minWidth:"25%",maxWidth:"75%",height:"4.5em",borderRadius:"2.5em",backgroundColor:"rgba(255, 255, 255, 0.95)"},input:{fontSize:"1.5em",marginLeft:e.spacing(1),flex:1},iconButton:{padding:10},icon:{fontSize:"1.5em"}}}));function b(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),n=t[0],o=t[1],c=h(),s=Object(i.f)();return r.a.createElement("div",{className:"Login",style:{backgroundImage:"url(/bg3.jpg)"}},r.a.createElement(d.a,{component:"form",className:c.root,onSubmit:function(e){e.preventDefault(),n.trim().length?s.push(n):alert("please, provide a valid Torre username")}},r.a.createElement(f.a,{className:c.input,onChange:function(e){return o(e.target.value)},value:n,placeholder:"Torre profile",inputProps:{"aria-label":"enter torre profile"}}),r.a.createElement(m.a,{type:"submit",className:c.iconButton,"aria-label":"directions"},r.a.createElement(g.a,{className:c.icon}))))}var v=n(44),E=n(29),j=n(618),y=n(615),O=n(616),k=n(623),x=n(39);function w(e){var t=e.data,n=Object(a.useRef)();return Object(a.useEffect)((function(){n&&n.current&&t&&function(e,t,n){var a=30,r=30,o=0,c=120,s=t.offsetWidth,i=function(e){return e.attr("class","x-axis").attr("transform","translate(0,".concat(a,")")).call(x.b(l).ticks(s/80,"s")).call((function(e){return(e.selection?e.selection():e).select(".domain").remove()}))},l=x.e().range([c,s-r]),u=x.c(e).sum((function(e){return e.value})).sort((function(e,t){return t.value-e.value})).eachAfter((function(e){return e.index=e.parent?e.parent.index=e.parent.index+1||0:0})),d=1;u.each((function(e){return e.children&&(d=Math.max(d,e.children.length))}));var f=27*d+a+o;function m(){var e=0;return function(t,n){var a="translate(".concat(l(e)-l(0),",").concat(27*n,")");return e+=t.value,a}}function p(e){var t=0;return function(n){var a="translate(".concat(l(t)-l(0),",").concat(27*e,")");return t+=n.value,a}}function g(e,t){if(console.log("node",e,e.node()),t.children&&!x.a(e.node())){e.select(".background").datum(t);var n=e.transition().duration(750),a=n.transition(),r=e.selectAll(".enter").attr("class","exit");r.selectAll("rect").attr("fill-opacity",(function(e){return e===t?0:null})),r.transition(n).attr("fill-opacity",0).remove();var o=h(e,g,t,".y-axis").attr("fill-opacity",0);o.transition(n).attr("fill-opacity",1),o.selectAll("g").attr("transform",p(t.index)).transition(n).attr("transform",m()),l.domain([0,x.d(t.children,(function(e){return e.value}))]),e.selectAll(".x-axis").transition(a).call(i),o.selectAll("g").transition(a).attr("transform",(function(e,t){return"translate(0,".concat(27*t,")")})),o.selectAll("rect").attr("fill","#cddc39").attr("fill-opacity",1).transition(a).attr("fill","#cddc39").attr("width",(function(e){return l(e.value)-l(0)}))}}function h(e,t,r,o){var s=e.insert("g",o).attr("class","enter").attr("transform","translate(0,".concat(a+3,")")).attr("text-anchor","end").style("font","10px sans-serif"),i=s.selectAll("g").data(r.children).join("g").attr("cursor","pointer").on("click",(function(e,t){return n(t.data)}));return i.append("text").attr("x",c-6).attr("y",12).attr("dy",".35em").text((function(e){return e.data.name})).style("fill","#ccc"),i.append("rect").attr("x",l(0)).attr("id",(function(e){return"rect"+e.data.name.split(" ").join("-")})).attr("width",(function(e){return l(e.value)-l(0)})).attr("height",24),i.append("text").attr("class","addLabel").attr("id",(function(e){return"text"+e.data.name.split(" ").join("-")})).attr("x",270).attr("y",12).attr("dy",".35em").text("add this skill to my sketch").style("fill","#fff").style("opacity",0),i.on("mouseover",(function(e,t){x.f("#rect"+t.data.name.split(" ").join("-")).attr("fill","#e83e8c").transition(1e3).attr("width",(function(e){return l(e.value)-l(0)+100})),x.f("#text"+t.data.name.split(" ").join("-")).transition(1e3).style("opacity",1)})).on("mouseout",(function(e,t){x.f("#rect"+t.data.name.split(" ").join("-")).attr("fill","#cddc39").transition(500).attr("width",(function(e){return l(e.value)-l(0)})),x.f("#text"+t.data.name.split(" ").join("-")).transition(500).style("opacity",0)})),s}var b=x.f(t).append("svg");b.attr("width",s).attr("height",f),l.domain([0,u.value]),b.append("rect").attr("class","background").attr("fill","none").attr("pointer-events","all").attr("width",s).attr("height",f),b.append("g").call(i),b.append("g").call((function(e){return e.attr("class","y-axis").attr("transform","translate(".concat(c+.5,",0)")).call((function(e){return e.append("line").attr("stroke","currentColor").attr("y1",a).attr("y2",f-o)}))})),console.log("svg",b),g(b,u)}(t,n.current,e.addSkill)}),[n,t]),r.a.createElement("div",{className:"BarChartWrapper",ref:n})}function S(e){var t=Object(a.useState)(null),n=Object(l.a)(t,2),o=n[0],c=n[1],s=e.SkillsAroundMe,i=e.addSkill;return Object(a.useEffect)((function(){console.log("SkillsAroundMe",s),s&&c({name:"SkillsAroundMe",children:s.map((function(e){return{name:e.value,value:e.total}}))})}),[s]),r.a.createElement("div",{className:"SkillsAroundMe"},r.a.createElement(w,{data:o,addSkill:i}))}var N=n(292),M=n(293),A=n.n(M),T=n(179);function C(){var e=Object(N.a)(["\n    display: block;\n    margin: 0 auto;\n    border-color: red;\n  "]);return C=function(){return e},e}function R(){var e=["obtaining Torre profile","getting skills from the user","setting up visualizations","going to Torre for a free cookie \ud83c\udf6a"," "],t=Object(a.useState)(0),n=Object(l.a)(t,2),o=n[0],c=n[1],s=Object(T.css)(C());return Object(a.useEffect)((function(){var e=!0;return e&&setInterval((function(){c((function(e){return e+1}))}),2e3),function(){e=!1}}),[]),r.a.createElement("div",{className:"Loading text-center"},r.a.createElement("div",{css:s,style:{width:"70%"}},r.a.createElement(A.a,{color:"#cddc39",loading:!0,css:s,size:150}),r.a.createElement("hr",{style:{color:"#ccc"}}),r.a.createElement("h1",{className:"loadingTitle"},e[o%e.length])))}var I=n(27);I.h;function L(e){var t=e.data,n=Object(a.useRef)();return Object(a.useEffect)((function(){n&&n.current&&t&&function(e,t,n){console.log("data",e);var a=t.offsetWidth+200,r=I.g(e.nodes).force("link",I.e(e.links).id((function(e){return e.id})).strength(.15)).force("charge",I.f().strength(15)).force("center",I.c(a/2,300)).force("collide",I.d().radius(41).iterations(5));console.log("new data",e),I.i(t).selectAll("*").remove();var o=I.i(t).append("svg").attr("viewBox",[0,0,a,600]);o.attr("id","graph"),o.style("overflow","visible"),console.log("sketchModel",n);var c=o.append("g").selectAll("g").data(e.nodes).join("g").attr("class","node").append("circle").attr("stroke",(function(e){return e.sketch&&n?"#ccc":"#031628"})).attr("stroke-width",2).attr("r",40).attr("fill",(function(e){return e.sketch?"#cddc39":"#e83e8c"})).style("opacity",(function(e){return n?e.sketch?1:.3:1})).call(function(e){return I.a().on("start",(function(t){I.b.active||e.alphaTarget(.3).restart(),t.fx=t.x,t.fy=t.y})).on("drag",(function(e){e.fx=I.b.x,e.fy=I.b.y})).on("end",(function(t){I.b.active||e.alphaTarget(0),t.fx=null,t.fy=null}))}(r)),s=o.selectAll(".node").append("text").attr("class","nodeLabel").text((function(e){return e.name})).style("fill","#fff").style("font-size",14).style("pointer-events","none").call((function(e,t){e.each((function(){var e,n=I.i(this),a=n.text().split(" ").reverse(),r=n.text().split(" ")[0];console.log("words",a);for(var o=[],c=0,s=n.attr("x"),i=n.attr("y"),l=n.text(null).append("tspan").attr("x",s).attr("y",i).attr("dy","0em");e=a.pop();)o.push(e),l.text(o.join(" ")),l.node().getComputedTextLength()>t&&e!==r&&(o.pop(),l.text(o.join(" ")),o=[e],l=n.append("tspan").attr("x",s).attr("y",i).attr("dy",1.1*++c+0+"em").attr("dx","-"+Math.min(2.5,2.5*(c+1))+"em").text(e))}))}),40);r.on("tick",(function(){c.attr("cx",(function(e){return e.x})).attr("cy",(function(e){return e.y})),s.attr("x",(function(e){return e.x-20})).attr("y",(function(e){return e.y}))}))}({nodes:t.map((function(e,t){return Object(v.a)(Object(v.a)({},e),{},{id:t+1})}))},n.current,e.sketchMode)}),[n,t]),r.a.createElement("div",{className:"NodesChartWrapper",ref:n})}function B(e){return r.a.createElement("div",{className:"MySkills"},r.a.createElement(L,{data:e.mySkills,sketchMode:e.sketchMode}))}var D=n(304),P={axis:{ticks:{text:{fill:"#ccc"}}},grid:{line:{stroke:"rgba(255, 255, 255, .15)"}},tooltip:{container:{background:"#2d374d",color:"inherit",boxShadow:"0 3px 9px rgba(0, 0, 0, 0.5)",fontFamily:"monospace"}}};function H(e){var t=Object(a.useState)(!0),n=Object(l.a)(t,2),o=n[0],c=n[1],s=Object(a.useState)([{option:"usd20",current:78,sketch:0},{option:"usd10",current:102,sketch:0},{option:"usd30",current:47,sketch:0},{option:"usd40",current:28,sketch:0},{option:"usd50",current:64,sketch:0}]),i=Object(l.a)(s,2),u=i[0],d=i[1],f=e.data,m=e.keys;return Object(a.useEffect)((function(){console.log("radar data change",f),f&&(o||d([{option:"usd20",current:400,sketch:400},{option:"usd10",current:400,sketch:400},{option:"usd30",current:400,sketch:400},{option:"usd40",current:400,sketch:400},{option:"usd50",current:400,sketch:400}]),c(!1))}),[f]),u?r.a.createElement("div",{className:"NewRadarChart",style:{height:"50vh"}},r.a.createElement(D.a,{theme:P,data:f,keys:m,indexBy:"option",maxValue:"auto",margin:{top:70,right:50,bottom:40,left:50},curve:"linearClosed",borderWidth:2,borderColor:{from:"color"},gridLevels:5,gridShape:"circular",gridLabelOffset:10,enableDots:!0,dotSize:10,dotColor:{theme:"background"},dotBorderWidth:2,dotBorderColor:{from:"color"},enableDotLabel:!0,dotLabel:!1,dotLabelYOffset:-12,colors:["#e83e8c","#cddc39"],fillOpacity:.25,blendMode:"normal",animate:!0,motionConfig:"wobbly",isInteractive:!0,legends:[{anchor:"top-left",direction:"column",translateX:-50,translateY:-40,itemWidth:80,itemHeight:20,itemTextColor:"#999",symbolSize:12,symbolShape:"circle",effects:[{on:"hover",style:{itemTextColor:"#000"}}]}]})):r.a.createElement(r.a.Fragment,null)}function W(e){var t=e.aggregatorData,n=e.sketchAggregatorData,o=Object(a.useState)(null),c=Object(l.a)(o,2),s=c[0],i=c[1];return Object(a.useEffect)((function(){if(console.log("lkKSF+******SDALSKLD",n),t){var e=t.map((function(e,t){var a=n?n[t].current:0;return Object(v.a)(Object(v.a)({},e),{},{sketch:a})}));i(e)}}),[t,n]),r.a.createElement("div",{className:"AggregatorReport"},r.a.createElement(H,{name:"hola",data:s,keys:["current","sketch"]}))}function z(e){var t=e.opportunitiesReport;return Object(a.useEffect)((function(){console.log("opportunities report",JSON.stringify(t))}),[t]),r.a.createElement(y.a,{className:"OpportunitiesReport"},t&&t.map((function(t,n){return r.a.createElement(O.a,{sm:12,key:n},r.a.createElement(W,{aggregatorData:t,sketchAggregatorData:e.sketchOpportunitiesReport&&e.sketchOpportunitiesReport[n]}))})))}var F=n(617),J=n(142),_=n.n(J),q=n(299),G=n.n(q);function U(e){var t=e.voiceNote,n=e.classes,o=e.recording,c=e.setRecording,s=e.setAudioMessage,i=e.sendAudioMessage,u=(Object(a.useRef)(),Object(a.useState)([])),d=Object(l.a)(u,2),p=d[0],g=d[1],h=Object(a.useState)(null),b=Object(l.a)(h,2),v=b[0],j=b[1],y=Object(a.useState)(!1),O=Object(l.a)(y,2),k=O[0],x=O[1],w=Object(a.useState)(0),S=Object(l.a)(w,2),N=S[0],M=S[1],A=Object(a.useState)(0),T=Object(l.a)(A,2),C=T[0],R=T[1],I=Object(a.useState)(0),L=Object(l.a)(I,2),B=L[0],D=L[1],P=Object(a.useState)(null),H=Object(l.a)(P,2),W=H[0],z=H[1];Object(a.useEffect)((function(){o?z(setInterval((function(){M((function(e){return e+1}))}),1e3)):W&&(clearInterval(W),z(null))}),[o]),Object(a.useEffect)((function(){k&&(x(!1),J())}),[v]),Object(a.useEffect)((function(){N?(R(Math.floor(N/60)),D(Math.floor(N%60))):(R(0),D(0))}),[N]);var J=function(){v?(c(!0),v.start(100)):(x(!0),navigator.mediaDevices.getUserMedia({audio:!0}).then((function(e){var t=new MediaRecorder(e);t.ondataavailable=function(e){g((function(t){return[].concat(Object(E.a)(t),[e.data])}))},j(t)})))};return t?r.a.createElement(r.a.Fragment,null,(o||p.length>0)&&r.a.createElement("div",{className:"text-center centerText"},o&&r.a.createElement(f.a,{className:n.input,value:"Escuchando \ud83d\udc42\ud83c\udffb ".concat(C/10<1?"0":"").concat(C,":").concat(B/10<1?"0":"").concat(B),disabled:!0,inputProps:{"aria-label":"jeje"}}),!o&&p.length>0&&r.a.createElement(f.a,{className:n.input,value:"Env\xedamos tu audio? \ud83e\udd13  ".concat(C/10<1?"0":"").concat(C,":").concat(B/10<1?"0":"").concat(B),disabled:!0,inputProps:{"aria-label":"jeje"}})),(o||p.length>0)&&r.a.createElement(F.a,{className:n.divider,orientation:"vertical"}),r.a.createElement(m.a,{className:n.iconButton,"aria-label":"directions",onClick:o?function(){v&&(v.stop(),s(p),c(!1))}:p.length>0?function(){if(!o&&p.length){var e=new Blob(p,{type:"audio/webm"}),t=new window.FileReader;t.readAsDataURL(e),t.onloadend=function(){var e=t.result;i({type:"audio/webm",data:e.split(",")[1]})}}}:J},o||0===p.length?r.a.createElement(G.a,{style:o?{color:"hsl(346,76%,95%)"}:{color:"hsl(346,76%,77%)"}}):r.a.createElement(_.a,{style:{color:"hsl(346,76%,77%)"}}))):r.a.createElement("div",{className:"VoiceRecorder"})}var V=Object(u.a)((function(e){return{root:{padding:"2px 4px",display:"flex",alignItems:"center",width:"100%"},input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10},divider:{height:28,margin:4}}}));function Y(e){var t=Object(a.useState)(""),n=Object(l.a)(t,2),o=n[0],c=n[1],s=Object(a.useState)(!1),i=Object(l.a)(s,2),u=i[0],p=i[1],g=Object(a.useState)(null),h=Object(l.a)(g,2),b=h[0],v=h[1],E=V();return r.a.createElement(d.a,{component:"form",className:E.root,onSubmit:function(t){o.split("").length&&(t.preventDefault(),e.finish(o))}},!u&&!b&&r.a.createElement(f.a,{className:E.input,onChange:function(e){return c(e.target.value)},value:o,placeholder:e.input.placeholder,inputProps:{"aria-label":e.input.placeholder}}),!u&&!b&&r.a.createElement(F.a,{className:E.divider,orientation:"vertical"}),0!==o.length||e.input.notAllowedToRecord?r.a.createElement(m.a,{disabled:o.split("").length<=0,type:"submit",className:E.iconButton,"aria-label":"directions"},r.a.createElement(_.a,{style:o.split("").length>0?{color:"hsl(346,76%,77%)"}:{color:"hsl(346,76%,95%)"}})):r.a.createElement(U,{voiceNote:!0,classes:E,recording:u,setRecording:p,setAudioMessage:v,sendAudioMessage:e.finish}))}function K(e,t){t.setMessageInput;return r.a.createElement("div",{onClick:e.customClickEvent?function(){return e.customClickEvent()}:function(){return!0},className:("bot"===e.message.sender?"Message bot scale-up-tl":"Message user scale-up-tr")+(e.nextMessage&&e.nextMessage.sender===e.message.sender?"":" final")+(e.customClickEvent?" clickable":"")},e.message.text||e.message.input&&r.a.createElement(Y,{input:e.message.input,finish:function(t){e.message.input.handleSubmit(t)}}))}function X(e){return r.a.createElement("div",{className:"OptionsMessage"},r.a.createElement(y.a,null,e.options.map((function(t,n){return r.a.createElement(O.a,{key:n,lg:Math.round(12/(e.options.length||1))},r.a.createElement(K,{customClickEvent:t.onClick,message:t.message,nextMessage:e.nextMessage}))}))))}function $(){var e=Object(a.useRef)(),t=Object(a.useState)(null),n=Object(l.a)(t,2),o=n[0],c=n[1],s=Object(a.useState)([]),i=Object(l.a)(s,2),u=i[0],d=i[1],f=function(e,t){console.log("session = ",e),console.log("w message",t);var n={message:t};console.log("payload",n,JSON.stringify(n)),fetch("/api/watson/message",{method:"POST",headers:{session_id:e,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){if(200===e.status)return e.json();throw new Error("failed getting watson api response")})).then((function(e){if(!(e&&e.output&&e.output.generic&&e.output.generic.length))throw new Error("failed getting watson message response");var t=[].concat(Object(E.a)(e.output.generic.map((function(e){return{sender:"bot",text:e.text}}))),[{sender:"user",input:{handleSubmit:m,placeholder:"ingresa aqu\xed tu respuesta"}}]);g(t)})).catch((function(e){return console.log("login error",e),!1}))},m=function(e){console.log("message",e),d((function(t){var n=t.pop();return n=[].concat(Object(E.a)(t),[Object(v.a)(Object(v.a)({},n),{},{text:e.type&&"audio/webm"===e.type?"Nota de voz \ud83d\udd08":e})]),console.log("mss",n),n})),o?f(o,e):p().then((function(t){console.log("obtuve un nuevo promise sId",t),f(t,e)})).catch((function(e){return console.log("error",e)}))},p=function(){return new Promise((function(e,t){fetch("/api/watson/session",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){if(200===e.status)return e.json();throw new Error("failed getting watson api response")})).then((function(t){if(!t||!t.session_id)throw new Error("failed getting watson session id");c(t.session_id),console.log("sesssion creada",t.session_id),e(t.session_id)})).catch((function(e){console.log("login error",e),t(!1)}))}))},g=function e(t,n){setTimeout((function(){var n=Object(E.a)(t);if(n&&n.length){var a=n.shift();return a&&d((function(e){return[].concat(Object(E.a)(e),[a])})),e(n)}return!0}),n||1e3+Math.floor(500*Math.random()+300))};return Object(a.useEffect)((function(){var e=!0;return e&&function(e,t,n){t([]);var a=[{sender:"bot",text:"Hey! I'm Houston \ud83d\udc68\ud83c\udffb\u200d\u2708\ufe0f"},{sender:"bot",text:"I was created to help you in the process of improving your professional profile, discovering what skills you should learn."},{sender:"user",options:[{onClick:function(){return e([{sender:"bot",text:"Sure!"},{sender:"bot",text:"I was born on February 20, 2021. I'm pretty young! "},{sender:"bot",text:"On that day my father discovered that, if Torre users knew how skills affect their opportunities... "},{sender:"bot",text:"Each of them would make better decisions about which path to follow! \ud83e\udd13"},{sender:"user",options:[{onClick:function(){return e([{sender:"bot",text:"Thanks! "},{sender:"bot",text:"Before we begin, please know that this conversation is confidential, I do not collect any personal information about you."},{sender:"user",options:[{onClick:function(){return e([{sender:"bot",text:"Great! Lets get started! \ud83d\ude0e"},{sender:"bot",text:"Tellme, what can I do for you?"},{sender:"user",input:{handleSubmit:n,placeholder:"text something"}}],500)},message:{sender:"user",text:"Good to know \ud83d\udc96"}}]}],500)},message:{sender:"user",text:"Sounds cool!"}}]}],500)},message:{sender:"user",text:"Okey, tell me more! \ud83d\udc40"}}]}];e(a,50)}(g,d,m),function(){return e=!1}}),[]),Object(a.useEffect)((function(){var t=!0;return e&&t&&e.current.scrollIntoView({behavior:"smooth"}),function(){return t=!1}}),[e,u]),r.a.createElement(j.a,{fluid:!0,className:"Conversation"},u&&u.length&&u.map((function(e,t){return r.a.createElement(y.a,{key:t},r.a.createElement(O.a,{xs:"bot"===e.sender?9:{offset:3,span:9}},e.options?r.a.createElement(X,{options:e.options,nextMessage:u[t+1]}):r.a.createElement(K,{message:e,nextMessage:u[t+1]})))})),r.a.createElement("div",{ref:e}))}n(555);var Q=n(300),Z=n.n(Q);function ee(e){var t=e.active,n=e.setMobileHoustonActive;return r.a.createElement("div",{className:"Houston ".concat(t?"active":"")},t&&r.a.createElement("div",{style:{width:"100%"},className:"text-right"},r.a.createElement(m.a,{"aria-label":"close houston chatbot",onClick:function(){return n(!1)}},r.a.createElement(Z.a,{style:{color:"#e83e8c"}}))),r.a.createElement($,null))}var te=n(619),ne=n(301),ae=n.n(ne);function re(e){var t=e.setMobileHoustonActive;return r.a.createElement("div",{className:"HoustonMobileTrigger"},r.a.createElement(te.a,{"aria-label":"add",className:"HoustonMobileTriggerFab",style:{backgroundColor:"#cddc39"},onClick:function(){return t(!0)}},r.a.createElement(ae.a,{style:{color:"#27292d"}})))}var oe=n(620);function ce(e){var t=e.alertMessage,n=e.setAlertMessage,o=Object(i.f)();return Object(a.useEffect)((function(){return function(){o.push("/")}}),[]),r.a.createElement("div",{style:{padding:"15px"}},r.a.createElement(oe.a,{variant:"danger",onClose:function(){return n(null)},dismissible:!0},r.a.createElement(oe.a.Heading,null,"Oh snap! You got an error ",t,"!")))}function se(e){Object(i.f)();var t=e.match.params.torreUsername,n=Object(a.useState)(null),o=Object(l.a)(n,2),c=o[0],s=o[1],u=Object(a.useState)(null),d=Object(l.a)(u,2),f=d[0],m=d[1],p=Object(a.useState)(null),g=Object(l.a)(p,2),h=g[0],b=g[1],x=Object(a.useState)(null),w=Object(l.a)(x,2),N=w[0],M=w[1],A=Object(a.useState)(null),T=Object(l.a)(A,2),C=T[0],I=T[1],L=Object(a.useState)(0),D=Object(l.a)(L,2),P=D[0],H=D[1],W=Object(a.useState)(!1),F=Object(l.a)(W,2),J=F[0],_=F[1],q=Object(a.useState)(null),G=Object(l.a)(q,2),U=G[0],V=G[1];return Object(a.useEffect)((function(){var e;t&&!c&&(e=t,H((function(e){return e+1})),fetch("/api/user/skills?username=".concat(e),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){if(200===e.status)return e.json();throw V("getting Torre user"),new Error("failed getting Torre response with 200 status")})).then((function(e){if(!e)throw new Error("failed getting Torre skills from username");s(e),H((function(e){return e-1}))})).catch((function(e){console.log("Torre requesting error",e)})))}),[c,t]),Object(a.useEffect)((function(){c&&(function(e){var t={strengths:e};H((function(e){return e+1})),fetch("/api/opportunities/report",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){if(200===e.status)return e.json();throw new Error("failed getting API response with 200 status")})).then((function(e){if(!e)throw new Error("failed getting Torre skills from my skills");console.log("opportunitiesReportResponse",e),H((function(e){return e-1})),C?M(e):b(e)})).catch((function(e){console.log("API requesting error",e)}))}(c),C||function(e){var t={strengths:e};H((function(e){return e+1})),fetch("/api/skills/of-people",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){if(200===e.status)return e.json();throw new Error("failed getting API response with 200 status")})).then((function(e){if(!e)throw new Error("failed getting Torre skills from my skills");m(e),H((function(e){return e-1}))})).catch((function(e){console.log("API requesting error",e)}))}(c))}),[c]),r.a.createElement("div",{className:"Overview"},P>0&&!U&&r.a.createElement(R,{loadingType:C?"onlyBlur":"block"}),(C||P<=0)&&!U&&r.a.createElement(j.a,{fluid:!0},r.a.createElement(y.a,null,r.a.createElement(O.a,{lg:9,md:7,sm:12,className:"charts"},r.a.createElement(y.a,null,r.a.createElement(O.a,{md:12,lg:6},r.a.createElement(k.a,{className:"dark"},r.a.createElement(k.a.Body,null,r.a.createElement(k.a.Title,{className:"torreTitle"},"My ",C&&r.a.createElement("code",null,"{sketch}")," skills"),r.a.createElement(k.a.Subtitle,{className:"text-muted"},"Let's see what skills user ",r.a.createElement("code",null,t)," already have"),r.a.createElement("hr",null),r.a.createElement(B,{mySkills:c,sketchMode:C}))),r.a.createElement(k.a,{className:"dark"},r.a.createElement(k.a.Body,null,r.a.createElement(k.a.Title,{className:"torreTitle"},"Skills around me"),r.a.createElement(k.a.Subtitle,{className:"text-muted"},"Let's see what skills the people around user ",r.a.createElement("code",null,t)," have"),r.a.createElement("hr",null),r.a.createElement(S,{SkillsAroundMe:f,addSkill:function(e){I(!0),s((function(t){return[].concat(Object(E.a)(t),[Object(v.a)(Object(v.a)({},e),{},{sketch:!0})])}))}})))),r.a.createElement(O.a,{md:12,lg:6},r.a.createElement(k.a,{className:"dark"},r.a.createElement(k.a.Body,null,r.a.createElement(k.a.Title,{className:"torreTitle"},"Opportunities"),r.a.createElement(k.a.Subtitle,{className:"text-muted"},"Let's see what job opportunities are around"),r.a.createElement("hr",null),r.a.createElement(z,{opportunitiesReport:h,sketchOpportunitiesReport:N})))))),r.a.createElement(O.a,{lg:3,md:5,sm:12,className:"no-padding"},r.a.createElement(ee,{active:J,setMobileHoustonActive:_})))),(C||P<=0)&&!J&&!U&&r.a.createElement(re,{setMobileHoustonActive:_}),U&&r.a.createElement(ce,{alertMessage:U,setAlertMessage:V}))}var ie=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(s.a,null,r.a.createElement(i.c,null,r.a.createElement(i.a,{path:"/",exact:!0},r.a.createElement(b,null)),r.a.createElement(i.a,{path:"/:torreUsername",component:se}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ie,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[428,1,2]]]);
//# sourceMappingURL=main.752cb99a.chunk.js.map